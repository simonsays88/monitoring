{% extends 'base.html.twig' %}

{% block pageTitle %}CostaFitness : Évolution athlète{% endblock %}
{% block headingTitle %}Évolution athlète ({{user.firstname}} {{user.lastname}}){% endblock %}
{% block pageClass %}userEvolution{% endblock %}

{% block body %}

    <table border="1" style="width:100%">
        <tr>
            <td>Bilan</td>
            <td>Poids</td>
            <td>Masse grasse</td>
            <td>Épaules</td>
            <td>Pectoraux</td>
            <td>Taille</td>
            <td>Bras contracté</td>
            <td>Cuisse</td>
        </tr>
        <tr>
            <td><a href="{{ path('initial', {'userId':user.userId}) }}" class="link">Initial</a></td>
            <td>{{ user.weight}}</td>
            <td>{{ user.imc}}</td>
            <td>{{ user.shoulders}}</td>
            <td>{{ user.pectorals}}</td>
            <td>{{ user.hipSize}}</td>
            <td>{{ user.arms}}</td>
            <td>{{ user.thighs}}</td>
        </tr>
            {% for pack in user.packs %}
                {% for result in pack.results %}
                    <tr>
                        <td><a href="{{ path('results', {'resultId': result.id}) }}">{{ result.createdAt|date('d/m/Y') }}</a></td>
                        <td>{{ result.weight}}</td>
                        <td>{{ result.imc}}</td>
                        <td>{{ result.shoulders}}</td>
                        <td>{{ result.pectorals}}</td>
                        <td>{{ result.hipSize}}</td>
                        <td>{{ result.arms}}</td>
                        <td>{{ result.thighs}}</td>
                    </tr>
            {% endfor %}
        {% endfor %}
    </table>

    <table border="1" style="width:100%">
        <tr>
            <td>Bilan</td>
            <td>Photo Face</td>
            <td>Photo Côté</td>
            <td>Photo Dos</td>
        </tr>
        <tr>
            <td><a href="{{ path('initial', {'userId':user.userId}) }}" class="link">Initial</a></td>
            <td>
                {% if user.photoFront is not null %}
                    <img width = "100px" src="{{ asset('uploads/photos/' ~ user.photoFront) }}" />
                {% endif %}            
            </td>
            <td>
                {% if user.photoSide is not null %}
                    <img width = "100px" src="{{ asset('uploads/photos/' ~ user.photoSide) }}" />
                {% endif %}                
            </td>
            <td>
                {% if user.photoBack is not null %}
                    <img width = "100px" src="{{ asset('uploads/photos/' ~ user.photoBack) }}" />
                {% endif %}                
            </td>
        </tr>
            {% for pack in user.packs %}
                {% for result in pack.results %}
                    {% if result.resultType == constant('AppBundle\\Entity\\Result::ESTHETIC') %}
                        <tr>
                            <td><a href="{{ path('results', {'resultId': result.id}) }}">{{ result.createdAt|date('d/m/Y') }}</a></td>
                            <td>
                                {% if result.photoFront is not null %}
                                    <img width = "100px" src="{{ asset('uploads/photos/' ~ result.photoFront) }}" />
                                {% endif %}            
                            </td>
                            <td>
                                {% if result.photoSide is not null %}
                                    <img width = "100px" src="{{ asset('uploads/photos/' ~ result.photoSide) }}" />
                                {% endif %}                
                            </td>
                            <td>
                                {% if result.photoBack is not null %}
                                    <img width = "100px" src="{{ asset('uploads/photos/' ~ result.photoBack) }}" />
                                {% endif %}                
                            </td>
                        </tr>
                    {% endif %}
            {% endfor %}
        {% endfor %}

    </table>
{% endblock %}
